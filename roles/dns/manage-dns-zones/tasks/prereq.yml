---

- name: Fail when required items are not defined
  debug:
    msg: "view name and zones must be defined for each dictionary record"
  failed_when:
    - (item.view is not defined) or
      (item.zones is not defined)
  with_items:
    - "{{ dns_data | default({}) }}"
